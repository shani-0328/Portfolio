(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{1502:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>n});var t=i(5155),a=i(2115),l=i(5695),d=i(3464),r=i(2284);function n(){let[e,s]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)(""),x=(0,l.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("adminToken");if(!e)return void x.push("/admin/login");(async()=>{try{let i=await d.A.get("".concat(r.A.apiBaseUrl,"/admin/dashboard"),{headers:{Authorization:"Bearer ".concat(e)}});s(i.data),o("")}catch(e){var i;console.error("Error fetching dashboard data:",e),o("Failed to load dashboard data"),d.A.isAxiosError(e)&&(null==(i=e.response)?void 0:i.status)===401&&(localStorage.removeItem("adminToken"),x.push("/admin/login"))}finally{n(!1)}})()},[x]);let m=async()=>{let e=localStorage.getItem("adminToken");try{await d.A.post("".concat(r.A.apiBaseUrl,"/admin/logout"),{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("adminToken"),x.push("/admin/login")}};return i?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("nav",{className:"bg-white shadow-md",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-indigo-600",children:"Admin Dashboard"})})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("button",{onClick:m,className:"ml-4 px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Logout"})})]})})}),(0,t.jsxs)("div",{className:"py-10",children:[(0,t.jsx)("header",{children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("h1",{className:"text-3xl font-bold leading-tight text-gray-900",children:"Dashboard"})})}),(0,t.jsx)("main",{children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c&&(0,t.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,t.jsx)("span",{className:"block sm:inline",children:c})}),e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Overview"}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Portfolio"}),(0,t.jsx)("dd",{className:"flex items-baseline",children:(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.counts.portfolio})})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Projects"}),(0,t.jsx)("dd",{className:"flex items-baseline",children:(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.counts.projects})})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Skills"}),(0,t.jsx)("dd",{className:"flex items-baseline",children:(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.counts.skills})})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,t.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Contacts"}),(0,t.jsx)("dd",{className:"flex items-baseline",children:(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.counts.contacts})})]})})]})})})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Latest Projects"}),(0,t.jsx)("a",{href:"/admin/projects",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"View all"})]}),(0,t.jsx)("div",{className:"mt-2 bg-white shadow overflow-hidden sm:rounded-md",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:e.latest.projects.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/admin/projects/".concat(e.id),className:"block hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-indigo-600 truncate",children:e.title}),(0,t.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:(0,t.jsx)("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})})]}),(0,t.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[(0,t.jsx)("div",{className:"sm:flex",children:(0,t.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[e.description.substring(0,100),"..."]})}),(0,t.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,t.jsx)("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsxs)("p",{children:["Created on ",(0,t.jsx)("time",{dateTime:e.created_at,children:new Date(e.created_at).toLocaleDateString()})]})]})]})]})})},e.id))})})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Latest Messages"}),(0,t.jsx)("a",{href:"/admin/contacts",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"View all"})]}),(0,t.jsx)("div",{className:"mt-2 bg-white shadow overflow-hidden sm:rounded-md",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:e.latest.contacts.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/admin/contacts/".concat(e.id),className:"block hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-indigo-600 truncate",children:e.name}),(0,t.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:(0,t.jsx)("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.email})})]}),(0,t.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[(0,t.jsx)("div",{className:"sm:flex",children:(0,t.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[e.message.substring(0,100),"..."]})}),(0,t.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,t.jsx)("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsxs)("p",{children:["Created on ",(0,t.jsx)("time",{dateTime:e.created_at,children:new Date(e.created_at).toLocaleDateString()})]})]})]})]})})},e.id))})})]})]})]})})]})]})}},4867:(e,s,i)=>{Promise.resolve().then(i.bind(i,1502))}},e=>{var s=s=>e(e.s=s);e.O(0,[223,741,684,358],()=>s(4867)),_N_E=e.O()}]);